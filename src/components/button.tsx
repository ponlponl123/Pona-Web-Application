"use client";
import React from 'react'
import confetti from 'canvas-confetti';

type variant = 'normal' | 'invert' | 'primary' | 'text' | 'border';
type size = 'small' | 'medium' | 'large';
type style = 'normal' | 'rounded';
type effect = 'confetti';

function Button({ children, variant = 'normal', style = 'normal', size = 'medium', effect = undefined, onClick }: { children?: React.ReactNode, variant?: variant, style?: style, size?: size, effect?: effect | undefined, onClick?: () => void }) {
    
    let handleEffect = (event: React.MouseEvent<HTMLButtonElement>): unknown => { return event };

    if ( effect === 'confetti' ) {
        handleEffect = (event: React.MouseEvent<HTMLButtonElement>) => {
            const element = event.target as HTMLButtonElement;
            const boundingClientRect = element.getBoundingClientRect();
            const originX = (boundingClientRect.left + (0.5 * boundingClientRect.width)) / window.innerWidth;
            const originY = (boundingClientRect.top + (0.5 * boundingClientRect.height)) / window.innerHeight;
            confetti({
                particleCount: 100,
                spread: 240,
                origin: {
                    y: originY,
                    x: originX
                }
            });
        };
    }

    const Clicked = (event: React.MouseEvent<HTMLButtonElement>): void => {
        event.preventDefault();
        handleEffect(event);
        if (onClick) onClick();
    }

    return (
        <button className={`btn btn-${style} btn-${variant} btn-size-${size} group`} type='button' onClick={Clicked}>
            {
                style === 'rounded' ?
                    variant === 'border' ?
                    (
                        <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586.95 237.29" preserveAspectRatio="none">
                            <path d="M377.31,12c28.89,0,55.87,1.99,82.49,6.09,11.31,1.74,21.08,4.21,29.87,7.56,10.42,3.96,19.72,7.62,28.14,12.28,7.49,4.15,14.73,10.07,21.73,15.8l1.17,.95c12.51,10.22,22.54,25.73,29.83,46.09,5.33,14.89,5.83,33.35,1.44,53.36-4.44,20.23-18.93,39.64-39.75,53.23-15.67,10.23-33.29,12.86-54.7,15.25-21.16,2.36-43.29,2.48-64.7,2.6l-5.26,.03c-5.43,.03-11.04,.05-17.14,.05-13.09,0-26.41-.08-39.3-.15-6-.03-12-.07-18.01-.1l-148.09-.68h-.68s-36.7-.17-36.7-.17c-1.89,0-3.79,0-5.68,0-10.04,0-19.51,0-28.84-1.17-21.08-2.63-39.8-5.71-55.45-16.82-14.5-10.29-21.43-17.13-30.92-30.52-1.14-1.61-2.05-3.16-2.93-5.01-2.79-5.85-6.27-13.13-8.11-19.81-5.24-19.02-4.95-42.44,.75-59.66,5.07-15.33,12.09-27.25,22.1-37.51,3.61-3.7,8.44-7.17,13.11-10.53,1.05-.75,2.09-1.5,3.11-2.25,1.96-1.43,3.4-2.36,4.8-3.11,29.27-15.56,62.71-18.32,91.55-18.98,12.12-.27,24.49-.41,36.75-.41,18.41,0,37.23,.31,55.92,.93l.75,.02,.75-.07c16.65-1.54,33.68-2.71,50.16-3.85l5.62-.39c28.18-1.95,51.21-2.92,72.46-3.05,1.25,0,2.49-.01,3.73-.01m0-12c-1.27,0-2.54,0-3.81,.01-24.43,.15-48.85,1.39-73.22,3.08-18.67,1.29-37.4,2.54-56.06,4.26-18.76-.62-37.54-.94-56.32-.94-12.34,0-24.68,.14-37.02,.42-33.36,.75-67.03,4.49-96.91,20.38-2.21,1.17-4.23,2.54-6.24,4.01-5.98,4.37-12.53,8.75-17.74,14.09-11.84,12.14-19.61,26.1-24.91,42.12-6.68,20.21-6.56,46.17-.93,66.62,2.05,7.45,5.55,14.87,8.85,21.79,1.16,2.43,2.41,4.58,3.97,6.77,10.57,14.92,18.67,22.66,33.77,33.37,18.14,12.87,39.56,16.27,60.91,18.94,11.93,1.49,23.96,1.22,35.95,1.27,12.23,.06,24.46,.11,36.7,.17,49.59,.23,99.18,.45,148.77,.68,19.12,.09,38.24,.25,57.36,.25,5.74,0,11.47-.01,17.21-.05,23.65-.15,47.68-.08,71.21-2.7,21.18-2.36,41.55-5.13,59.93-17.13,21.34-13.93,39.32-35.24,44.91-60.7,4.29-19.54,4.98-40.86-1.86-59.98-6.94-19.39-17.33-38.09-33.54-51.34-7.8-6.37-15.8-13.05-24.67-17.96-9.44-5.23-19.63-9.17-29.69-13-10.41-3.96-21.32-6.51-32.31-8.2-28.1-4.33-55.97-6.23-84.32-6.23h0Z"/>
                        </svg>
                    ) : (
                        <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586.95 237.29" preserveAspectRatio="none">
                            <path d="M581.83,96.73c-6.94-19.39-17.33-38.09-33.54-51.34-7.8-6.37-15.8-13.05-24.67-17.96-9.44-5.23-19.63-9.17-29.69-13-10.41-3.96-21.32-6.51-32.31-8.2C432.28,1.71,403.17-.17,373.5,.01c-24.43,.15-48.85,1.39-73.22,3.08-18.67,1.29-37.4,2.54-56.06,4.26-31.1-1.03-62.24-1.23-93.34-.52-33.36,.75-67.03,4.49-96.91,20.38-2.21,1.17-4.23,2.54-6.24,4.01-5.98,4.37-12.53,8.75-17.73,14.09-11.84,12.14-19.61,26.11-24.91,42.12-6.68,20.21-6.56,46.16-.93,66.62,2.05,7.45,5.55,14.87,8.85,21.79,1.16,2.43,2.41,4.58,3.97,6.77,10.57,14.92,18.67,22.66,33.77,33.37,18.14,12.87,39.56,16.27,60.91,18.94,11.93,1.49,23.96,1.22,35.95,1.27,12.23,.06,24.46,.11,36.7,.17,49.59,.23,99.18,.45,148.77,.68,24.86,.11,49.72,.35,74.57,.2,23.65-.15,47.68-.08,71.21-2.7,21.18-2.36,41.55-5.13,59.93-17.13,21.34-13.93,39.32-35.24,44.91-60.7,4.29-19.54,4.98-40.86-1.86-59.98Z"/>
                        </svg>
                    )
                : variant === 'border' ?
                (
                    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 574.19 229.86" preserveAspectRatio="none">
                        <path d="M432.47,12c12.54,0,22.55,.38,31.5,1.19,13.79,1.25,20.88,2.37,30.89,7.88,8.21,4.52,15.39,11.38,20.22,19.3,10.57,17.36,10.61,38.94,.11,57.74-1.08,1.94-2.38,3.96-3.85,6.02-2.49,3.47-2.94,8-1.2,11.89,1.74,3.9,5.43,6.57,9.67,7.03,6.46,.69,12.41,2.61,18.18,5.84l5.36,4.14,5.59,4.32c10.64,10.04,12.85,25.25,13.22,33.47,.48,10.61-5.38,24.52-13.93,33.07-.1,.1-.21,.21-.31,.32-4.02,4.32-8.62,7.29-14.08,9.06-.64,.21-1.27,.47-1.87,.79-4.85,2.55-9.91,3.79-15.48,3.79-.31,0-.62,0-.94-.01-32.91-4.11-66.09-6.74-98.61-7.83-9.9-.33-20.32-.5-30.99-.5-39.09,0-78.59,2.23-116.79,4.38-8.72,.49-17.73,1-26.59,1.47-19.14,1.02-44.38,2.2-69.93,2.2-5.72,0-11.37-.06-16.79-.17-14.13-.3-26.84-.68-39.28-2.25-20.53-2.6-40.21-5.86-55.29-17.15-.47-.36-.97-.67-1.5-.96-5.18-2.79-9.21-6.49-12.33-11.29-.36-.56-.77-1.09-1.22-1.58-3.89-4.25-6.44-9.11-7.82-14.87-1.98-8.71-1.97-17.55,.01-26.26,1.03-4.51,3.2-9.03,6.47-13.46,2.14-2.9,2.87-6.61,1.97-10.11-.9-3.49-3.32-6.4-6.59-7.91-5.17-2.39-10.11-5.73-14.7-9.94-10.93-10.04-13.19-25.48-13.56-33.79-.48-10.61,5.38-24.52,13.93-33.07,8.46-8.46,21.59-13.92,33.46-13.92h.11c20.11,.06,40.9,.12,61.45,.12,35.79,0,83.05-.16,131.23-1.38,30.5-.78,58.49-1.89,85.55-3.41,6.81-.38,13.73-.81,20.41-1.21,21.69-1.32,44.11-2.69,66.06-2.9,3.04-.03,5.74-.04,8.24-.04m0-12c-2.79,0-5.57,.02-8.35,.04-29.05,.27-58.04,2.5-87.03,4.13-28.37,1.6-56.77,2.68-85.18,3.4-43.63,1.11-87.28,1.38-130.92,1.38-20.47,0-40.94-.06-61.41-.12-.05,0-.1,0-.15,0-15.19,0-31.22,6.71-41.95,17.44C7.15,36.6-.62,53.54,.04,68.37c.69,15.4,5.75,31.36,17.44,42.1,5.39,4.95,11.35,9.02,17.78,11.99-3.98,5.39-7.04,11.43-8.52,17.92-2.38,10.47-2.38,21.19,0,31.65,1.84,7.75,5.39,14.5,10.66,20.24,4.2,6.48,9.77,11.59,16.7,15.33,17.73,13.28,39.7,16.76,60.98,19.45,13.41,1.7,27.03,2.06,40.53,2.34,5.68,.12,11.37,.18,17.05,.18,23.54,0,47.07-.96,70.57-2.21,47.6-2.54,95.1-5.84,142.74-5.84,10.19,0,20.38,.15,30.59,.49,32.79,1.1,65.52,3.73,98.07,7.81,.63,.02,1.25,.04,1.87,.04,7.49,0,14.51-1.72,21.06-5.16,7.38-2.4,13.77-6.5,19.16-12.31,10.33-10.33,18.1-27.27,17.44-42.1-.69-15.4-5.75-31.36-17.44-42.09-4.02-3.1-8.03-6.21-12.05-9.31-7.39-4.29-15.25-6.87-23.57-7.77,1.67-2.33,3.21-4.72,4.57-7.16,12.2-21.84,12.83-48.22-.34-69.84-5.97-9.8-14.66-18.05-24.68-23.57-12.34-6.8-21.57-8.06-35.6-9.32-10.8-.98-21.71-1.23-32.58-1.23h0Z"/>
                    </svg>
                ) : (
                    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 574.19 229.86" preserveAspectRatio="none">
                        <path d="M574.15,170.29c-.69-15.4-5.75-31.36-17.44-42.09-4.02-3.1-8.03-6.21-12.05-9.31-7.39-4.29-15.25-6.87-23.57-7.77,1.67-2.33,3.21-4.72,4.57-7.16,12.2-21.84,12.83-48.22-.34-69.84-5.97-9.8-14.66-18.05-24.68-23.57-12.34-6.8-21.57-8.06-35.6-9.32C451.48,0,437.74-.09,424.12,.04c-29.05,.27-58.04,2.5-87.03,4.13-28.37,1.6-56.77,2.68-85.18,3.4-64.1,1.63-128.22,1.45-192.34,1.26-15.24-.04-31.33,6.67-42.09,17.44C7.15,36.6-.62,53.54,.04,68.37c.69,15.4,5.75,31.36,17.44,42.09,5.39,4.95,11.35,9.02,17.78,11.99-3.98,5.39-7.04,11.43-8.52,17.92-2.38,10.47-2.38,21.19,0,31.65,1.84,7.75,5.39,14.5,10.66,20.24,4.2,6.48,9.77,11.59,16.7,15.33,17.73,13.28,39.7,16.76,60.98,19.45,13.41,1.7,27.03,2.06,40.53,2.34,29.22,.62,58.44-.48,87.62-2.04,57.79-3.09,115.42-7.29,173.33-5.35,32.79,1.1,65.52,3.73,98.07,7.81,8.2,.31,15.84-1.4,22.94-5.13,7.38-2.4,13.77-6.5,19.16-12.31,10.33-10.33,18.1-27.27,17.44-42.09Z"/>
                    </svg>
                )
            }
            <div>
                { children }
            </div>
        </button>
    )
}

export default Button